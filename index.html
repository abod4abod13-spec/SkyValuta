<!DOCTYPE html>
<html id="master-html" lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Currency Pro</title>
    <style>
        :root { --bg: #0f172a; --card: #1e293b; --accent: #a855f7; --text: #f8fafc; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg); color: var(--text); overflow-x: hidden; }
        header { display: flex; justify-content: space-between; align-items: center; padding: 12px 5%; background: rgba(30,41,59,0.9); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid #334155; }
        .u-pic { width: 42px; height: 42px; border-radius: 50%; border: 2px solid var(--accent); cursor: pointer; object-fit: cover; }
        .main-card { max-width: 480px; margin: 30px auto; background: var(--card); padding: 25px; border-radius: 20px; text-align: center; box-shadow: 0 15px 35px rgba(0,0,0,0.5); }
        .dl-link { background: linear-gradient(135deg, #059669, #10b981); color: white; padding: 15px 35px; border-radius: 12px; text-decoration: none; display: inline-block; font-weight: bold; margin-top: 20px; }
        #side-bar { position: fixed; top: 0; right: -320px; width: 280px; height: 100%; background: #1e293b; z-index: 2000; transition: 0.4s; padding: 25px; box-shadow: -10px 0 30px rgba(0,0,0,0.5); }
        .l-btn { border: none; padding: 10px; border-radius: 8px; color: white; cursor: pointer; font-weight: bold; width: 100%; margin: 4px 0; }
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 3000; justify-content: center; align-items: center; }
        .window { background: var(--card); padding: 20px; border-radius: 15px; width: 85%; max-width: 350px; text-align: center; }
        input, select { width: 100%; padding: 10px; margin: 8px 0; border-radius: 8px; border: 1px solid #475569; background: #0f172a; color: white; box-sizing: border-box; }
        .stars span { font-size: 28px; color: #475569; cursor: pointer; }
        .stars span.on { color: #fbbf24; }
        .stats-box { background: rgba(0,0,0,0.3); padding: 10px; border-radius: 10px; margin-top: 10px; font-size: 14px; }
    </style>
</head>
<body>

    <header>
        <div onclick="openMenu()" style="font-size:28px; cursor:pointer; color:var(--accent)">â˜°</div>
        <img id="h-img" class="u-pic" onclick="openProfile()">
    </header>

    <main>
        <div class="main-card">
            <h2 id="L-app">Global Currency Pro</h2>
            <p id="L-desc">ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ù…Ù† Ø§Ù„Ø¯ÙŠÙ†Ø§Ø± Ø§Ù„Ø¹Ø±Ø§Ù‚ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ùˆ150 Ø¯ÙˆÙ„Ø© Ø£Ø®Ø±Ù‰.</p>
            <div style="text-align:right; background:rgba(0,0,0,0.2); padding:15px; border-radius:12px; margin:15px 0;">
                <p>âœ… <span id="L-f1">ÙŠØ¯Ø¹Ù… Ø£ÙƒØ«Ø± Ù…Ù† 150 Ø¯ÙˆÙ„Ø©</span></p>
                <p>âœ… <span id="L-f2">ØªØµÙ…ÙŠÙ… Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆØ³Ù‡Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</span></p>
                <p>ğŸ“¦ <span id="L-size">Ø§Ù„Ø­Ø¬Ù…: 33.42 Ù…ÙŠØºØ§ Ø¨Ø§ÙŠØª</span></p>
            </div>
            <a href="https://appsgeyser.io/19506475/Global Currency Pro" class="dl-link" id="L-btn">ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ø¢Ù†</a>
        </div>
    </main>

    <div id="side-bar">
        <div onclick="closeMenu()" style="cursor:pointer; margin-bottom:20px;">âœ• <span id="L-close">Ø¥ØºÙ„Ø§Ù‚</span></div>
        <h3 id="L-rateT">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
        <div class="stars" id="star-box">
            <span onclick="giveRate(1)">â˜…</span><span onclick="giveRate(2)">â˜…</span><span onclick="giveRate(3)">â˜…</span><span onclick="giveRate(4)">â˜…</span><span onclick="giveRate(5)">â˜…</span>
        </div>
        <div class="stats-box">
            <p><span id="L-total-stars">Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ø¬ÙˆÙ…:</span> <span id="star-sum">0</span> â˜…</p>
            <p><span id="L-total-voters">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚ÙŠÙ…ÙŠÙ†:</span> <span id="count-num">0</span></p>
        </div>
        <hr style="opacity:0.1; margin:20px 0;">
        <h3 id="L-langT">Ø§Ù„Ù„ØºØ§Øª</h3>
        <button class="l-btn" style="background:#059669" onclick="setL('ar')">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
        <button class="l-btn" style="background:#2563eb" onclick="setL('en')">English</button>
        <button class="l-btn" style="background:#dc2626" onclick="setL('zh')">ä¸­æ–‡</button>
        <button class="l-btn" style="background:#7c3aed" onclick="setL('ko')">í•œêµ­ì–´</button>
    </div>

    <div id="p-modal" class="overlay">
        <div id="p-view" class="window">
            <h3 id="L-pTitle">Ø¨ÙŠØ§Ù†Ø§ØªÙŠ</h3>
            <img id="p-img" style="width:80px; height:80px; border-radius:50%; border:2px solid var(--accent); object-fit:cover; margin-bottom:10px;">
            <div style="text-align:right; font-size:14px;">
                <p><b id="L-n">Ø§Ù„Ø§Ø³Ù…:</b> <span id="v-n"></span></p>
                <p><b id="L-a">Ø§Ù„Ø¹Ù…Ø±:</b> <span id="v-a"></span></p>
                <p><b id="L-p">Ø§Ù„Ø­Ø³Ø§Ø¨:</b> <span id="v-p"></span></p>
            </div>
            <button class="l-btn" style="background:var(--accent)" onclick="goEdit()" id="L-edit">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button onclick="closeProfile()" style="background:none; border:none; color:#94a3b8; margin-top:10px; cursor:pointer;" id="L-mClose">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>

        <div id="p-edit" class="window" style="display:none;">
            <h3 id="L-eTitle">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù</h3>
            <input type="text" id="in-n" placeholder="Ø§Ù„Ø§Ø³Ù…">
            <input type="number" id="in-a" placeholder="Ø§Ù„Ø¹Ù…Ø±">
            <select id="in-p">
                <option value="Ø¹Ø§Ù…" id="opt-public">Ø¹Ø§Ù…</option>
                <option value="Ø®Ø§Øµ" id="opt-private">Ø®Ø§Øµ</option>
            </select>
            <p id="L-chPic" style="font-size:12px; margin:5px 0;">ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©:</p>
            <input type="file" id="in-f" accept="image/*">
            <button class="l-btn" style="background:#10b981; margin-top:10px;" onclick="saveAll()" id="L-save">Ø­ÙØ¸</button>
        </div>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('user_db')) || { n:"Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡", a:16, p:"Ø¹Ø§Ù…", img:"https://via.placeholder.com/100" };
        let ratingData = JSON.parse(localStorage.getItem('site_rating')) || { count: 0, sum: 0, lastTime: null };

        const langData = {
            ar: { app:"Global Currency Pro", desc:"ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ù…Ù† Ø§Ù„Ø¯ÙŠÙ†Ø§Ø± Ø§Ù„Ø¹Ø±Ø§Ù‚ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ùˆ150 Ø¯ÙˆÙ„Ø© Ø£Ø®Ø±Ù‰.", f1:"ÙŠØ¯Ø¹Ù… Ø£ÙƒØ«Ø± Ù…Ù† 150 Ø¯ÙˆÙ„Ø©", f2:"ØªØµÙ…ÙŠÙ… Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆØ³Ù‡Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…", size:"Ø§Ù„Ø­Ø¬Ù…: 33.42 Ù…ÙŠØºØ§ Ø¨Ø§ÙŠØª", btn:"ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ø¢Ù†", rateT:"ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…ÙˆÙ‚Ø¹", tStars:"Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ø¬ÙˆÙ…:", tVoters:"Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚ÙŠÙ…ÙŠÙ†:", langT:"Ø§Ù„Ù„ØºØ§Øª", close:"Ø¥ØºÙ„Ø§Ù‚", pTitle:"Ø¨ÙŠØ§Ù†Ø§ØªÙŠ", n:"Ø§Ù„Ø§Ø³Ù…:", a:"Ø§Ù„Ø¹Ù…Ø±:", p:"Ø§Ù„Ø­Ø³Ø§Ø¨:", edit:"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", mClose:"Ø¥ØºÙ„Ø§Ù‚", eTitle:"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù", save:"Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª", chPic:"ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©:", pub:"Ø¹Ø§Ù…", priv:"Ø®Ø§Øµ" },
            en: { app:"Global Currency Pro", desc:"Currency converter from IQD to USD and 150+ other countries.", f1:"Supports 150+ countries", f2:"Professional & Easy to use", size:"Size: 33.42 MB", btn:"Download Now", rateT:"Rate Website", tStars:"Total Stars:", tVoters:"Total Voters:", langT:"Languages", close:"Close", pTitle:"My Profile", n:"Name:", a:"Age:", p:"Privacy:", edit:"Edit Profile", mClose:"Close", eTitle:"Edit Info", save:"Save Changes", chPic:"Change Picture:", pub:"Public", priv:"Private" },
            zh: { app:"å…¨çƒè´§å¸ä¸“å®¶", desc:"è´§å¸è½¬æ¢å™¨ã€‚", f1:"æ”¯æŒ150ä¸ªå›½å®¶", f2:"ä¸“ä¸šè®¾è®¡", size:"å¤§å°: 33.42 MB", btn:"ç«‹å³ä¸‹è½½", rateT:"è¯„ä»·", tStars:"æ€»æ˜Ÿæ•°:", tVoters:"è¯„ä»·äººæ•°:", langT:"è¯­è¨€", close:"å…³é—­", pTitle:"èµ„æ–™", n:"å§“å:", a:"å¹´é¾„:", p:"éšç§:", edit:"ç¼–è¾‘", mClose:"å…³é—­", eTitle:"ä¿®æ”¹", save:"ä¿å­˜", chPic:"æ›´æ¢ç…§ç‰‡:", pub:"å…¬å¼€", priv:"ç§æœ‰" },
            ko: { app:"ê¸€ë¡œë²Œ í™˜ìœ¨ í”„ë¡œ", desc:"í™˜ì „ í”„ë¡œ.", f1:"150ê°œêµ­ ì§€ì›", f2:"ì „ë¬¸ ë””ìì¸", size:"í¬ê¸°: 33.42 MB", btn:"ë‹¤ìš´ë¡œë“œ", rateT:"í‰ê°€", tStars:"ì´ ë³„ì :", tVoters:"í‰ê°€ì ìˆ˜:", langT:"ì–¸ì–´", close:"ë‹«ê¸°", pTitle:"í”„ë¡œí•„", n:"ì´ë¦„:", a:"ë‚˜ì´:", p:"ê³µê°œ ì—¬ë¶€:", edit:"í¸ì§‘", mClose:"ë‹«ê¸°", eTitle:"ì •ë³´ ìˆ˜ì •", save:"ì €ì¥", chPic:"ì‚¬ì§„ ë³€ê²½:", pub:"ê³µê°œ", priv:"ë¹„ê³µê°œ" }
        };

        window.onload = () => { sync(); updateRatingUI(); };

        function sync() {
            document.getElementById('h-img').src = db.img;
            document.getElementById('p-img').src = db.img;
            document.getElementById('v-n').innerText = db.n;
            document.getElementById('v-a').innerText = db.a;
            document.getElementById('v-p').innerText = db.p;
        }

        function openMenu() { document.getElementById('side-bar').style.right = '0'; }
        function closeMenu() { document.getElementById('side-bar').style.right = '-320px'; }

        function giveRate(n) {
            let now = new Date().getTime();
            if(ratingData.lastTime && (now - ratingData.lastTime < 7*24*60*60*1000)) {
                alert("Ù„Ù‚Ø¯ Ù‚ÙŠÙ…Øª Ø¨Ø§Ù„ÙØ¹Ù„! Ø§Ù†ØªØ¸Ø± 7 Ø£ÙŠØ§Ù….");
                return;
            }
            ratingData.count++;
            ratingData.sum += n;
            ratingData.lastTime = now;
            localStorage.setItem('site_rating', JSON.stringify(ratingData));
            updateRatingUI();
            alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ " + n + " Ù†Ø¬ÙˆÙ…!");
        }

        function updateRatingUI() {
            document.getElementById('count-num').innerText = ratingData.count;
            document.getElementById('star-sum').innerText = ratingData.sum;
        }

        function setL(l) {
            let t = langData[l] || langData['en'];
            document.getElementById('master-html').dir = (l === 'ar' ? 'rtl' : 'ltr');
            document.getElementById('L-app').innerText = t.app;
            document.getElementById('L-desc').innerText = t.desc;
            document.getElementById('L-f1').innerText = t.f1;
            document.getElementById('L-f2').innerText = t.f2;
            document.getElementById('L-size').innerText = t.size;
            document.getElementById('L-btn').innerText = t.btn;
            document.getElementById('L-rateT').innerText = t.rateT;
            document.getElementById('L-total-stars').innerText = t.tStars;
            document.getElementById('L-total-voters').innerText = t.tVoters;
            document.getElementById('L-langT').innerText = t.langT;
            document.getElementById('L-close').innerText = t.close;
            document.getElementById('L-pTitle').innerText = t.pTitle;
            document.getElementById('L-n').innerText = t.n;
            document.getElementById('L-a').innerText = t.a;
            document.getElementById('L-p').innerText = t.p;
            document.getElementById('L-edit').innerText = t.edit;
            document.getElementById('L-mClose').innerText = t.mClose;
            document.getElementById('L-eTitle').innerText = t.eTitle;
            document.getElementById('L-save').innerText = t.save;
            document.getElementById('L-chPic').innerText = t.chPic;
            document.getElementById('opt-public').innerText = t.pub;
            document.getElementById('opt-private').innerText = t.priv;
            closeMenu();
        }

        function openProfile() { document.getElementById('p-modal').style.display = 'flex'; }
        function closeProfile() { document.getElementById('p-modal').style.display = 'none'; document.getElementById('p-view').style.display='block'; document.getElementById('p-edit').style.display='none'; }
        
        function goEdit() { 
            document.getElementById('p-view').style.display='none'; 
            document.getElementById('p-edit').style.display='block'; 
            document.getElementById('in-n').value = db.n; 
            document.getElementById('in-a').value = db.a; 
            document.getElementById('in-p').value = db.p;
        }

        function saveAll() {
            let f = document.getElementById('in-f').files[0];
            if(f) {
                let r = new FileReader();
                r.onload = (e) => { db.img = e.target.result; finish(); };
                r.readAsDataURL(f);
            } else { finish(); }
        }

        function finish() {
            db.n = document.getElementById('in-n').value;
            db.a = document.getElementById('in-a').value;
            db.p = document.getElementById('in-p').value;
            localStorage.setItem('user_db', JSON.stringify(db));
            sync(); closeProfile(); alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª!");
        }
    </script>
</body>
</html>
